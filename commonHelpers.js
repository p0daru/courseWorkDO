(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const Y={generateMatrix:function(e,t,n){J(e,t,n,!0);const i=t-n,o=t+n,r=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let a=0;a<e;a+=1)for(let s=0;s<e;s+=1)a%2!==s%2&&(r[a][s]=Math.floor(Math.random()*(o-i+1))+i);return r},generateLessonDuration:function(e){return J(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)},getDefaultInputValues:function(){return{matrix:[[1/0,15,1/0,20,1/0,5,1/0,10],[5,1/0,15,1/0,5,1/0,10,1/0],[1/0,20,1/0,15,1/0,5,1/0,5],[10,1/0,20,1/0,5,1/0,10,1/0],[1/0,15,1/0,15,1/0,5,1/0,5],[10,1/0,15,1/0,10,1/0,10,1/0],[1/0,20,1/0,20,1/0,10,1/0,5],[5,1/0,15,1/0,5,1/0,5,1/0]],trainingDuration:[40,120,90,90,60,50,60,40]}}};function J(e,t,n,i=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(i&&(t<0||n<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const G=Y.generateMatrix,R=Y.generateLessonDuration;function ne(e,t){let n="";if(e==="g"&&t[0]%2===0||e==="b"&&t[0]%2===1)for(let i=0;i<t.length;i++){const o=i===t.length-1,r=t[i],a=i%2===0;o?n+=a?`g${r+1}`:`b${r+1}`:n+=a?`g${r+1} -> `:`b${r+1} -> `}else if(e==="g"&&t[0]%2===1||e==="b"&&t[0]%2===0)for(let i=0;i<t.length;i++){const o=i===t.length-1,r=t[i],a=i%2===0;o?n+=a?`b${r+1}`:`g${r+1}`:n+=a?`b${r+1} -> `:`g${r+1} -> `}return n}function Z(e,t,n=R(e),i=1){const o=performance.now();let r=1,a=.7,s=.1,l=[],u=10,c=[],f,p="",I="g",y=t.slice().map(g=>g.slice());function T(g){return g.map(d=>Math.min(...d))}T(y);function A(g,d){const C=T(g);return d+=C.reduce((v,F)=>v+F,0),{matrix:g.map((v,F)=>v.map((k,m)=>k-C[F])),minBorder:d}}let{matrix:$,minBorder:x}=A(y,0);function B(g){const d=[];return Object.keys(g[0]).forEach(w=>{const v=g.map(F=>F[w]);d[w]=Math.min(...v)}),d}B(y);function P(g,d){const C=B(g);return d+=Object.values(C).reduce((v,F)=>v+F,0),{matrix:g.map((v,F)=>v.map((k,m)=>k-C[m])),minBorder:d}}let{matrix:N,minBorder:L}=P(y,0),D=L+x;for(let g=0;g<e;++g){l[g]=[];for(let d=0;d<e;++d)t[g][d]!=1/0?l[g][d]=a:l[g][d]=1/0}for(let g=1;g<=u;g++){let d=Math.floor(Math.random()*e),C=t.slice().map(m=>m.slice()),w=[],v=0,F=Array.from({length:e},()=>Array(e).fill(0));for(w.push(d);w.length<e;){for(let h=0;h<e;h++)C[h][d]=1/0;let m=0,b=new Map;for(let h=0;h<e;h++)C[d][h]!=1/0&&(m+=parseFloat(l[d][h]**i)*(1/t[d][h])**r);for(let h=0;h<e;h++){let M=0;if(C[d][h]!=1/0)if(M=parseFloat(l[d][h]**i*(1/t[d][h])**r/m).toFixed(4),b.size===0)b.set(h,parseFloat(M));else{let te=Array.from(b.values()).pop();M=parseFloat(parseFloat(M)+parseFloat(te)).toFixed(4),b.set(h,parseFloat(M))}}let W=parseFloat(Math.random()).toFixed(4);for(let[h,M]of b.entries())if(parseFloat(W)<=parseFloat(M)){d=h,w.push(d);break}}for(let m=0;m<w.length-1;m++){const b=w[m],W=w[m+1];v+=parseFloat(t[b][W])+n[m],F[b][W]=1}let k=D/v;for(let m=0;m<e;m++)for(let b=0;b<e;b++)t[m][b]!=1/0&&(F[m][b]===1?l[m][b]=parseFloat((1-s)*l[m][b]+k).toFixed(4):l[m][b]=parseFloat((1-s)*l[m][b]).toFixed(4));(g===1||f>v)&&(c=w,f=v)}const O=performance.now()-o;return p=ne(I,c),{schedule:p,result:c,result_func:f,executionTime:O}}const oe=8,ie=100,re=50,V=[1,2,3,4,5];let le=ae(oe,ie,re,V);se(V,le,"antTest");function ae(e,t,n,i){let o=[],r=10;for(let a=0;a<i.length;a+=1){let s=0;for(let u=0;u<r;u++){let c=G(e,t,n),f=R(e);console.table(c);let p=Z(e,c,f,i[a]);s+=p.result_func}let l=s/r;o.push(l),console.log(o)}return o}function se(e,t,n){const i=document.getElementById(n).getContext("2d");new Chart(i,{type:"bar",data:{labels:V,datasets:[{label:"ЦФ vs a",data:t,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(o){return`Цільова функція: ${o.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}function Q(e,t){let n=0,i=0;e.forEach((a,s)=>{let l=Math.min.apply(null,a);(isNaN(l)||!isFinite(l))&&(l=0),n+=l;let u=a.map(c=>c-=l);e[s]=u}),e=e[0].map((a,s)=>e.map(l=>l[s])),e.forEach((a,s)=>{let l=Math.min.apply(null,a);(isNaN(l)||!isFinite(l))&&(l=0),i+=l;let u=a.map(c=>c-=l);e[s]=u}),e=e[0].map((a,s)=>e.map(l=>l[s]));let o=n+i;return{index:t,matrix:e,cost:o}}function ce(e,t,n){const i=e.map(o=>o.slice());for(let o=0;o<e.length;o+=1)i[t][o]=1/0,i[o][n]=1/0,i[n][t]=1/0,i[n][0]=1/0;return i}function ue(e){for(let s=0;s<e.length;s+=1)for(let l=0;l<e.length;l+=1)s==l&&(e[s][l]=1/0);const t=[],n=Q(e,0);t.push({Node:n.index+1,cost:n.cost});let i=n.index,o=n.matrix.map(s=>s.slice()),r=n.cost;for(let s=0;s<e.length-1;s++){let l=[];for(let c=1;c<e.length;c++){const f=ce(o,i,c),p=Q(f,c);p.cost=p.cost+r+o[i][c],l.push(p)}let u=l.reduce(function(c,f){return c.cost<f.cost?c:f});t.push({Node:u.index+1,cost:u.cost}),i=u.index,o=u.matrix.map(c=>c.slice()),r=u.cost}const a=t[t.length-1].cost;return{minCostArray:t,lastCost:a}}function de(e){let t="";for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n].Node,r=n%2===0;i?t+=r?`g${o}`:`b${o}`:t+=r?`g${o} -> `:`b${o} -> `}return t}function fe(e){return e.reduce((t,n)=>t+n,0)}function ge(e,t){return e+t}function q(e,t){const n=performance.now();let{minCostArray:i,lastCost:o}=ue(e),r=de(i),a=fe(t),s=ge(a,o);const u=performance.now()-n;return{totalWorkTimeBnB:s,scheduleBnB:r,executionTimeBnB:u}}const me=8,he=100,ee=[10,50],pe=be(me,he,ee);ye(ee,pe,"bnbTest");function be(e,t,n){let i=[];for(let r=0;r<n.length;r+=1){let a=0;for(let l=0;l<20;l+=1){const u=R(e),c=G(e,t,n[r]);let f=q(c,u).totalWorkTimeBnB;a+=f}const s=a/20;i.push(s)}return i}function ye(e,t,n){const i=document.getElementById(n).getContext("2d");new Chart(i,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:t,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(o){return`Цільова Функція: ${o.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}function ve(e,t,n){let i=-1,o=1/0;for(let r=0;r<e.length;r++)!n.has(r)&&e[t][r]<o&&(o=e[t][r],i=r);return i}function K(e){const t=performance.now();let n=e.length,i=new Set,o=[],r=Math.floor(Math.random()*n);for(o.push(r),i.add(r);o.length<n;){let c=ve(e,r,i);if(c===-1)break;o.push(c),i.add(c),r=c}const s=performance.now()-t,l=E(e,o);let u=Te(o);return{schedule:o,scheduleFormat:u,totalPreparationTime:l,executionTimeGreedy:s}}function E(e,t){let n=0;for(let i=0;i<t.length-1;i++)n+=e[t[i]][t[i+1]];return n}function Te(e){let t="";if(e[0]%2===0)for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n],r=n%2===0;i?t+=r?`g${o+1}`:`b${o+1}`:t+=r?`g${o+1} -> `:`b${o+1} -> `}else for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n],r=n%2===0;i?t+=r?`b${o+1}`:`g${o+1}`:t+=r?`b${o+1} -> `:`g${o+1} -> `}return t}function xe(e,t){let n=e.slice(),i=Math.random()<.5?0:1,o=[];for(let l=0;l<t;l++)l%2===i&&o.push(l);let r=o[Math.floor(Math.random()*o.length)],a=o[Math.floor(Math.random()*o.length)];for(;r===a;)a=o[Math.floor(Math.random()*o.length)];let s=n[r];return n[r]=n[a],n[a]=s,n}function S(e,t,n=1e3){const i=performance.now();let o=t,r=o,a=E(e,o);for(let u=0;u<n;u++){let c=xe(o,o.length),f=E(e,c);f<a&&(a=f,r=c),o=c}const l=performance.now()-i;return r=we(r),{bestSchedule:r,bestTime:a,executionTimePairwise:l}}function we(e){let t="";if(e[0]%2===0)for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n],r=n%2===0;i?t+=r?`g${o+1}`:`b${o+1}`:t+=r?`g${o+1} -> `:`b${o+1} -> `}else for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n],r=n%2===0;i?t+=r?`b${o+1}`:`g${o+1}`:t+=r?`b${o+1} -> `:`g${o+1} -> `}return t}const Fe=[4,6,8,10,12,14,16,18,20],Ie=100,Ce=10;document.addEventListener("DOMContentLoaded",()=>{const e=$e(Fe,Ie,Ce);Ae(e,"deviationTest");let{averageDeviationsFromAnt:t,averageDeviationsFromGreedy:n}=e;console.log("Average deviations of TF for pairwise permutation method relative to TF obtained by ant algorithm – ",t),console.log("Average deviations of TF for pairwise permutation method relative to TF obtained by greedy algorithm – ",n)});function $e(e,t,n){let i=[],o=[];for(let r of e){let a=[],s=[];for(let l=0;l<20;l++){let u=G(r,t,n),{result:c,result_func:f}=Z(r,u),{schedule:p,executionTimeGreedy:I}=K(u),y=E(u,p);console.log(`Problem size: ${r}, Run: ${l+1}`),console.log(`  Initial solution from greedy algorithm - Target function (TF): ${y}`),console.log(`  Initial solution from ant algorithm - Target function (TF): ${f}`);let{bestTime:T}=S(u,c),{bestTime:A}=S(u,p);console.log(`  Pairwise permutations with initial solution from ant algorithm - TF: ${T}`),console.log(`  Pairwise permutations with initial solution from greedy algorithm - TF: ${A}`);let $=U(T,f),x=U(A,y);console.log(`  TF deviation for pairwise permutation method relative to TF obtained by ant algorithm: ${$}`),console.log(`  TF deviation for pairwise permutation method relative to TF obtained by greedy algorithm: ${x}`),a.push($),s.push(x)}i.push(X(a)),o.push(X(s))}return{labels:e,averageDeviationsFromAnt:i,averageDeviationsFromGreedy:o}}function U(e,t){return Math.abs(e-t)/Math.min(e,t)}function Ae(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Deviation from TF of ant algorithm",data:e.averageDeviationsFromAnt,backgroundColor:"rgba(96, 130, 182, 0.7)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Deviation from TF of greedy algorithm",data:e.averageDeviationsFromGreedy,backgroundColor:"rgba(182, 96, 130, 0.7)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1,type:"line",fill:!1,pointStyle:"circle",pointRadius:5,yAxisID:"y-axis-2"}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average TF deviation for pairwise permutation method relative to TF of ant and greedy algorithms"},tooltip:{callbacks:{label:function(i){return`Average deviation: ${i.raw}`}}},datalabels:{display:!0,align:"top",formatter:(i,o)=>i.toFixed(2)}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average deviation"},ticks:{min:0,max:1}},"y-axis-2":{beginAtZero:!0,title:{display:!0,text:"Deviation from TF of greedy algorithm"},position:"right",grid:{drawOnChartArea:!1},ticks:{min:0,max:1}}}}})}function X(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}const Be=[4,6,8,10,12,14,16,18,20],Me=100,Ne=10,Pe=De(Be,Me,Ne);ke(Pe,"timeTest");function De(e,t,n){let i=[],o=[],r=[],a=[];for(let s=0;s<e.length;s++){let l=[],u=[],c=[],f=[];for(let p=0;p<20;p++){const I=R(e[s],t,n),y=G(e[s],t,n),T=.1,A=K(y),$=A.executionTimeGreedy+T,B=Z(e[s],y).executionTime+T,N=q(y,I).executionTimeBnB+T,D=S(y,A.schedule).executionTimePairwise+T;l.push($),u.push(B),c.push(N),f.push(D)}i.push(_(l)),o.push(_(u)),r.push(_(c)),a.push(_(f))}return{labels:e,averageTimesGreedy:i,averageTimesAnt:o,averageTimesBnB:r,averageTimesPP:a}}function ke(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Execution Time: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function _(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}const Ee=[4,6,8,10,12,14,16,18,20],Ge=100,Re=10;document.addEventListener("DOMContentLoaded",()=>{const e=Le(Ee,Ge,Re);We(e,"accuracyTest")});function Le(e,t,n){let i=[],o=[],r=[],a=[];for(let s of e){let l=[],u=[],c=[],f=[];for(let p=0;p<20;p++){let I=G(s,t,n),{schedule:y}=K(I),T=E(I,y),{result:A,result_func:$}=Z(s,I),{totalWorkTimeBnB:x,scheduleBnB:B,executionTimeBnB:P}=q(I,R(s));if(console.log("BnB Results:",{optimalTF:x,scheduleBnB:B,executionTimeBnB:P}),typeof x>"u"){console.error("optimalTF is undefined in calcResultsBnB",{scheduleBnB:B,executionTimeBnB:P});continue}let{bestTime:N}=S(I,y);if(isNaN(T)||isNaN($)||isNaN(x)||isNaN(N)){console.error("NaN encountered:",{greedyTF:T,antTF:$,optimalTF:x,ppTF:N});continue}let L=z(T,x),D=z($,x),H=z(N,x),O=0;l.push(L),u.push(D),c.push(H),f.push(O)}i.push(j(l)),o.push(j(u)),r.push(j(c)),a.push(j(f))}return{labels:e,averageDeviationsGreedy:i,averageDeviationsAnt:o,averageDeviationsPP:r,averageDeviationsBnB:a}}function z(e,t){return Math.abs(e-t)/t}function We(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageDeviationsGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageDeviationsAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageDeviationsPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1},{label:"BnB",data:e.averageDeviationsBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average TF Deviation vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Deviation: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average Deviation"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function j(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}
//# sourceMappingURL=commonHelpers.js.map
