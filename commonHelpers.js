(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const D={generateMatrix:function(e,t,o){L(e,t,o,!0);const i=t-o,n=t+o,r=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let s=0;s<e;s+=1)for(let a=0;a<e;a+=1)s%2!==a%2&&(r[s][a]=Math.floor(Math.random()*(n-i+1))+i);return r},generateLessonDuration:function(e){return L(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)},getDefaultInputValues:function(){return{matrix:[[1/0,15,1/0,20,1/0,5,1/0,10],[5,1/0,15,1/0,5,1/0,10,1/0],[1/0,20,1/0,15,1/0,5,1/0,5],[10,1/0,20,1/0,5,1/0,10,1/0],[1/0,15,1/0,15,1/0,5,1/0,5],[10,1/0,15,1/0,10,1/0,10,1/0],[1/0,20,1/0,20,1/0,10,1/0,5],[5,1/0,15,1/0,5,1/0,5,1/0]],trainingDuration:[40,120,90,90,60,50,60,40]}}};function L(e,t,o,i=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(i&&(t<0||o<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const k=D.generateMatrix,N=D.generateLessonDuration;function Q(e,t){let o="";if(e==="g"&&t[0]%2===0||e==="b"&&t[0]%2===1)for(let i=0;i<t.length;i++){const n=i===t.length-1,r=t[i],s=i%2===0;n?o+=s?`g${r+1}`:`b${r+1}`:o+=s?`g${r+1} -> `:`b${r+1} -> `}else if(e==="g"&&t[0]%2===1||e==="b"&&t[0]%2===0)for(let i=0;i<t.length;i++){const n=i===t.length-1,r=t[i],s=i%2===0;n?o+=s?`b${r+1}`:`g${r+1}`:o+=s?`b${r+1} -> `:`g${r+1} -> `}return o}function S(e,t,o=N(e),i=1){const n=performance.now();let r=1,s=.7,a=.1,l=[],d=10,c=[],p,w="",$="g",x=t.slice().map(f=>f.slice());function M(f){return f.map(u=>Math.min(...u))}M(x);function P(f,u){const T=M(f);return u+=T.reduce((y,I)=>y+I,0),{matrix:f.map((y,I)=>y.map((C,m)=>C-T[I])),minBorder:u}}let{matrix:j,minBorder:E}=P(x,0);function B(f){const u=[];return Object.keys(f[0]).forEach(b=>{const y=f.map(I=>I[b]);u[b]=Math.min(...y)}),u}B(x);function q(f,u){const T=B(f);return u+=Object.values(T).reduce((y,I)=>y+I,0),{matrix:f.map((y,I)=>y.map((C,m)=>C-T[m])),minBorder:u}}let{matrix:xe,minBorder:K}=q(x,0),H=K+E;for(let f=0;f<e;++f){l[f]=[];for(let u=0;u<e;++u)t[f][u]!=1/0?l[f][u]=s:l[f][u]=1/0}for(let f=1;f<=d;f++){let u=Math.floor(Math.random()*e),T=t.slice().map(m=>m.slice()),b=[],y=0,I=Array.from({length:e},()=>Array(e).fill(0));for(b.push(u);b.length<e;){for(let g=0;g<e;g++)T[g][u]=1/0;let m=0,h=new Map;for(let g=0;g<e;g++)T[u][g]!=1/0&&(m+=parseFloat(l[u][g]**i)*(1/t[u][g])**r);for(let g=0;g<e;g++){let v=0;if(T[u][g]!=1/0)if(v=parseFloat(l[u][g]**i*(1/t[u][g])**r/m).toFixed(4),h.size===0)h.set(g,parseFloat(v));else{let J=Array.from(h.values()).pop();v=parseFloat(parseFloat(v)+parseFloat(J)).toFixed(4),h.set(g,parseFloat(v))}}let F=parseFloat(Math.random()).toFixed(4);for(let[g,v]of h.entries())if(parseFloat(F)<=parseFloat(v)){u=g,b.push(u);break}}for(let m=0;m<b.length-1;m++){const h=b[m],F=b[m+1];y+=parseFloat(t[h][F])+o[m],I[h][F]=1}let C=H/y;for(let m=0;m<e;m++)for(let h=0;h<e;h++)t[m][h]!=1/0&&(I[m][h]===1?l[m][h]=parseFloat((1-a)*l[m][h]+C).toFixed(4):l[m][h]=parseFloat((1-a)*l[m][h]).toFixed(4));(f===1||p>y)&&(c=b,p=y)}const R=performance.now()-n;return console.log("Розклад: "),w=Q($,c),console.log(w),console.log("Значення ЦФ: ",p),console.log("ExecutionTime: ",R),{shedule:w,result:c,result_func:p,executionTime:R}}const U=8,X=100,Y=50,_=[1,2,3,4,5];function ee(e,t,o,i){let n=[],r=10;for(let s=0;s<i.length;s+=1){let a=0;for(let d=0;d<r;d++){let c=k(e,t,o),p=N(e);console.table(c);let w=S(e,c,p,i[s]);a+=w.result_func}let l=a/r;n.push(l),console.log(n)}return n}let te=ee(U,X,Y,_);function ne(e,t,o){const i=document.getElementById(o).getContext("2d");new Chart(i,{type:"bar",data:{labels:_,datasets:[{label:"ЦФ vs a",data:t,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(n){return`Цільова функція: ${n.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}ne(_,te,"antTest");function W(e,t){let o=0,i=0;e.forEach((s,a)=>{let l=Math.min.apply(null,s);(isNaN(l)||!isFinite(l))&&(l=0),o+=l;let d=s.map(c=>c-=l);e[a]=d}),e=e[0].map((s,a)=>e.map(l=>l[a])),e.forEach((s,a)=>{let l=Math.min.apply(null,s);(isNaN(l)||!isFinite(l))&&(l=0),i+=l;let d=s.map(c=>c-=l);e[a]=d}),e=e[0].map((s,a)=>e.map(l=>l[a]));let n=o+i;return{index:t,matrix:e,cost:n}}function oe(e,t,o){const i=e.map(n=>n.slice());for(let n=0;n<e.length;n+=1)i[t][n]=1/0,i[n][o]=1/0,i[o][t]=1/0,i[o][0]=1/0;return i}function ie(e){for(let a=0;a<e.length;a+=1)for(let l=0;l<e.length;l+=1)a==l&&(e[a][l]=1/0);const t=[],o=W(e,0);t.push({Node:o.index+1,cost:o.cost});let i=o.index,n=o.matrix.map(a=>a.slice()),r=o.cost;for(let a=0;a<e.length-1;a++){let l=[];for(let c=1;c<e.length;c++){const p=oe(n,i,c),w=W(p,c);w.cost=w.cost+r+n[i][c],l.push(w)}let d=l.reduce(function(c,p){return c.cost<p.cost?c:p});t.push({Node:d.index+1,cost:d.cost}),i=d.index,n=d.matrix.map(c=>c.slice()),r=d.cost}const s=t[t.length-1].cost;return{minCostArray:t,lastCost:s}}function re(e){let t="";for(let o=0;o<e.length;o++){const i=o===e.length-1,n=e[o].Node,r=o%2===0;i?t+=r?`g${n}`:`b${n}`:t+=r?`g${n} -> `:`b${n} -> `}return t}function le(e){return e.reduce((t,o)=>t+o,0)}function se(e,t){return e+t}function Z(e,t){const o=performance.now();let{minCostArray:i,lastCost:n}=ie(e),r=re(i),s=le(t),a=se(s,n);const d=performance.now()-o;return{totalWorkTimeBnB:a,scheduleBnB:r,executionTimeBnB:d}}const ae=8,ce=100,V=[10,50];function ue(e,t,o){let i=[];const n=N(e);for(let r=0;r<o.length;r+=1){const s=k(e,t,o[r]);let a=Z(s,n);i.push(a.totalWorkTimeBnB)}return i}let z=ue(ae,ce,V);console.log(z);function fe(e,t,o){const i=document.getElementById(o).getContext("2d");new Chart(i,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:t,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(n){return`Цільова функція: ${n.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}fe(V,z,"bnbTest");function O(e,t,o){let i=-1,n=1/0;for(let r=0;r<e.length;r++)!o.has(r)&&e[t][r]<n&&(n=e[t][r],i=r);return i}function de(e){let t=e.length,o=new Set,i=[],n=Math.floor(Math.random()*t);for(i.push(n),o.add(n);i.length<t;){let r=O(e,n,o);if(r===-1)break;i.push(r),o.add(r),n=r}return i}function me(e){const t=performance.now();let o=e.length,i=new Set,n=[],r=Math.floor(Math.random()*o);for(n.push(r),i.add(r);n.length<o;){let l=O(e,r,i);if(l===-1)break;n.push(l),i.add(l),r=l}const a=performance.now()-t;return{schedule:n,executionTimeGreedy:a}}function G(e,t){let o=0;for(let i=0;i<t.length-1;i++)o+=e[t[i]][t[i+1]];return o}function ge(e,t){let o=e.slice(),i=Math.random()<.5?0:1,n=[];for(let l=0;l<t;l++)l%2===i&&n.push(l);let r=n[Math.floor(Math.random()*n.length)],s=n[Math.floor(Math.random()*n.length)];for(;r===s;)s=n[Math.floor(Math.random()*n.length)];let a=o[r];return o[r]=o[s],o[s]=a,o}function pe(e,t=de(e),o=1e3){const i=performance.now();let n=t,r=n,s=G(e,n);for(let d=0;d<o;d++){let c=ge(n,n.length),p=G(e,c);p<s&&(s=p,r=c),n=c}const l=performance.now()-i;return{bestSchedule:r,bestTime:s,executionTimePairwise:l}}const he=[4,6,8,10,12,14,16,18,20],ye=100,be=10,we=Ie(he,ye,be);Te(we,"timeTest");function Ie(e,t,o){let i=[],n=[],r=[],s=[];for(let a=0;a<e.length;a+=1){let l=[],d=[],c=[],p=[];for(let w=0;w<20;w+=1){const $=N(e[a],t,o),x=k(e[a],t,o),M=.1,P=me(x).executionTimeGreedy+M,j=S(e[a],x).executionTime+M,E=Z(x,$).executionTimeBnB+M,B=pe(x).executionTimePairwise+M;l.push(P),c.push(E),p.push(B),d.push(j)}i.push(A(l)),r.push(A(c)),s.push(A(p)),n.push(A(d))}return{labels:e,averageTimesGreedy:i,averageTimesAnt:n,averageTimesBnB:r,averageTimesPP:s}}function Te(e,t){const o=document.getElementById(t).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Execution Time: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function A(e){if(e.length===0)return 0;let t=0;for(let o=0;o<e.length;o++)t+=e[o];return t/e.length}
//# sourceMappingURL=commonHelpers.js.map
