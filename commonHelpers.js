(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const Y={generateMatrix:function(e,t,n){J(e,t,n,!0);const i=t-n,o=t+n,r=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let a=0;a<e;a+=1)for(let s=0;s<e;s+=1)a%2!==s%2&&(r[a][s]=Math.floor(Math.random()*(o-i+1))+i);return r},generateLessonDuration:function(e){return J(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)},getDefaultInputValues:function(){return{matrix:[[1/0,15,1/0,20,1/0,5,1/0,10],[5,1/0,15,1/0,5,1/0,10,1/0],[1/0,20,1/0,15,1/0,5,1/0,5],[10,1/0,20,1/0,5,1/0,10,1/0],[1/0,15,1/0,15,1/0,5,1/0,5],[10,1/0,15,1/0,10,1/0,10,1/0],[1/0,20,1/0,20,1/0,10,1/0,5],[5,1/0,15,1/0,5,1/0,5,1/0]],trainingDuration:[40,120,90,90,60,50,60,40]}}};function J(e,t,n,i=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(i&&(t<0||n<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const E=Y.generateMatrix,R=Y.generateLessonDuration;function ne(e,t){let n="";if(e==="g"&&t[0]%2===0||e==="b"&&t[0]%2===1)for(let i=0;i<t.length;i++){const o=i===t.length-1,r=t[i],a=i%2===0;o?n+=a?`g${r+1}`:`b${r+1}`:n+=a?`g${r+1} -> `:`b${r+1} -> `}else if(e==="g"&&t[0]%2===1||e==="b"&&t[0]%2===0)for(let i=0;i<t.length;i++){const o=i===t.length-1,r=t[i],a=i%2===0;o?n+=a?`b${r+1}`:`g${r+1}`:n+=a?`b${r+1} -> `:`g${r+1} -> `}return n}function O(e,t,n=R(e),i=1){const o=performance.now();let r=1,a=.7,s=.1,l=[],c=10,u=[],f,h="",A="g",y=t.slice().map(g=>g.slice());function T(g){return g.map(d=>Math.min(...d))}T(y);function C(g,d){const I=T(g);return d+=I.reduce((v,w)=>v+w,0),{matrix:g.map((v,w)=>v.map((k,m)=>k-I[w])),minBorder:d}}let{matrix:B,minBorder:F}=C(y,0);function M(g){const d=[];return Object.keys(g[0]).forEach(x=>{const v=g.map(w=>w[x]);d[x]=Math.min(...v)}),d}M(y);function D(g,d){const I=M(g);return d+=Object.values(I).reduce((v,w)=>v+w,0),{matrix:g.map((v,w)=>v.map((k,m)=>k-I[m])),minBorder:d}}let{matrix:$,minBorder:W}=D(y,0),N=W+F;for(let g=0;g<e;++g){l[g]=[];for(let d=0;d<e;++d)t[g][d]!=1/0?l[g][d]=a:l[g][d]=1/0}for(let g=1;g<=c;g++){let d=Math.floor(Math.random()*e),I=t.slice().map(m=>m.slice()),x=[],v=0,w=Array.from({length:e},()=>Array(e).fill(0));for(x.push(d);x.length<e;){for(let p=0;p<e;p++)I[p][d]=1/0;let m=0,b=new Map;for(let p=0;p<e;p++)I[d][p]!=1/0&&(m+=parseFloat(l[d][p]**i)*(1/t[d][p])**r);for(let p=0;p<e;p++){let P=0;if(I[d][p]!=1/0)if(P=parseFloat(l[d][p]**i*(1/t[d][p])**r/m).toFixed(4),b.size===0)b.set(p,parseFloat(P));else{let te=Array.from(b.values()).pop();P=parseFloat(parseFloat(P)+parseFloat(te)).toFixed(4),b.set(p,parseFloat(P))}}let L=parseFloat(Math.random()).toFixed(4);for(let[p,P]of b.entries())if(parseFloat(L)<=parseFloat(P)){d=p,x.push(d);break}}for(let m=0;m<x.length-1;m++){const b=x[m],L=x[m+1];v+=parseFloat(t[b][L])+n[m],w[b][L]=1}let k=N/v;for(let m=0;m<e;m++)for(let b=0;b<e;b++)t[m][b]!=1/0&&(w[m][b]===1?l[m][b]=parseFloat((1-s)*l[m][b]+k).toFixed(4):l[m][b]=parseFloat((1-s)*l[m][b]).toFixed(4));(g===1||f>v)&&(u=x,f=v)}const _=performance.now()-o;return console.log("Schedule: "),h=ne(A,u),console.log(h),console.log("TF: ",f),console.log("ExecutionTime: ",_),{schedule:h,result:u,result_func:f,executionTime:_}}const oe=8,ie=100,re=50,V=[1,2,3,4,5];function le(e,t,n,i){let o=[],r=10;for(let a=0;a<i.length;a+=1){let s=0;for(let c=0;c<r;c++){let u=E(e,t,n),f=R(e);console.table(u);let h=O(e,u,f,i[a]);s+=h.result_func}let l=s/r;o.push(l),console.log(o)}return o}let ae=le(oe,ie,re,V);function se(e,t,n){const i=document.getElementById(n).getContext("2d");new Chart(i,{type:"bar",data:{labels:V,datasets:[{label:"ЦФ vs a",data:t,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(o){return`Цільова функція: ${o.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}se(V,ae,"antTest");function Q(e,t){let n=0,i=0;e.forEach((a,s)=>{let l=Math.min.apply(null,a);(isNaN(l)||!isFinite(l))&&(l=0),n+=l;let c=a.map(u=>u-=l);e[s]=c}),e=e[0].map((a,s)=>e.map(l=>l[s])),e.forEach((a,s)=>{let l=Math.min.apply(null,a);(isNaN(l)||!isFinite(l))&&(l=0),i+=l;let c=a.map(u=>u-=l);e[s]=c}),e=e[0].map((a,s)=>e.map(l=>l[s]));let o=n+i;return{index:t,matrix:e,cost:o}}function ce(e,t,n){const i=e.map(o=>o.slice());for(let o=0;o<e.length;o+=1)i[t][o]=1/0,i[o][n]=1/0,i[n][t]=1/0,i[n][0]=1/0;return i}function ue(e){for(let s=0;s<e.length;s+=1)for(let l=0;l<e.length;l+=1)s==l&&(e[s][l]=1/0);const t=[],n=Q(e,0);t.push({Node:n.index+1,cost:n.cost});let i=n.index,o=n.matrix.map(s=>s.slice()),r=n.cost;for(let s=0;s<e.length-1;s++){let l=[];for(let u=1;u<e.length;u++){const f=ce(o,i,u),h=Q(f,u);h.cost=h.cost+r+o[i][u],l.push(h)}let c=l.reduce(function(u,f){return u.cost<f.cost?u:f});t.push({Node:c.index+1,cost:c.cost}),i=c.index,o=c.matrix.map(u=>u.slice()),r=c.cost}const a=t[t.length-1].cost;return{minCostArray:t,lastCost:a}}function de(e){let t="";for(let n=0;n<e.length;n++){const i=n===e.length-1,o=e[n].Node,r=n%2===0;i?t+=r?`g${o}`:`b${o}`:t+=r?`g${o} -> `:`b${o} -> `}return t}function fe(e){return e.reduce((t,n)=>t+n,0)}function ge(e,t){return e+t}function q(e,t){const n=performance.now();let{minCostArray:i,lastCost:o}=ue(e),r=de(i),a=fe(t),s=ge(a,o);const c=performance.now()-n;return{totalWorkTimeBnB:s,scheduleBnB:r,executionTimeBnB:c}}const me=8,pe=100,ee=[10,50],he=be(me,pe,ee);ye(ee,he,"bnbTest");function be(e,t,n){let i=[];for(let r=0;r<n.length;r+=1){let a=0;for(let l=0;l<20;l+=1){const c=R(e),u=E(e,t,n[r]);let f=q(u,c).totalWorkTimeBnB;a+=f}const s=a/20;i.push(s)}return i}function ye(e,t,n){const i=document.getElementById(n).getContext("2d");new Chart(i,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:t,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(o){return`Цільова Функція: ${o.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}function ve(e,t,n){let i=-1,o=1/0;for(let r=0;r<e.length;r++)!n.has(r)&&e[t][r]<o&&(o=e[t][r],i=r);return i}function K(e){const t=performance.now();let n=e.length,i=new Set,o=[],r=Math.floor(Math.random()*n);for(o.push(r),i.add(r);o.length<n;){let c=ve(e,r,i);if(c===-1)break;o.push(c),i.add(c),r=c}const s=performance.now()-t,l=G(e,o);return console.log(`Greedy Schedule: ${o}`),console.log(`Greedy TF: ${l}`),{schedule:o,executionTimeGreedy:s}}function G(e,t){let n=0;for(let i=0;i<t.length-1;i++)n+=e[t[i]][t[i+1]];return n}function Te(e,t){let n=e.slice(),i=Math.random()<.5?0:1,o=[];for(let l=0;l<t;l++)l%2===i&&o.push(l);let r=o[Math.floor(Math.random()*o.length)],a=o[Math.floor(Math.random()*o.length)];for(;r===a;)a=o[Math.floor(Math.random()*o.length)];let s=n[r];return n[r]=n[a],n[a]=s,n}function Z(e,t,n=1e3){const i=performance.now();let o=t,r=o,a=G(e,o);for(let c=0;c<n;c++){let u=Te(o,o.length),f=G(e,u);f<a&&(a=f,r=u),o=u}const l=performance.now()-i;return console.log(`Pairwise Permutation Schedule: ${r}`),console.log(`Pairwise Permutation TF: ${a}`),{bestSchedule:r,bestTime:a,executionTimePairwise:l}}const Fe=[4,6,8,10,12,14,16,18,20],xe=100,we=10;document.addEventListener("DOMContentLoaded",()=>{const e=Ae(Fe,xe,we);Ie(e,"deviationTest");let{averageDeviationsFromAnt:t,averageDeviationsFromGreedy:n}=e;console.log("Average deviations of TF for pairwise permutation method relative to TF obtained by ant algorithm – ",t),console.log("Average deviations of TF for pairwise permutation method relative to TF obtained by greedy algorithm – ",n)});function Ae(e,t,n){let i=[],o=[];for(let r of e){let a=[],s=[];for(let l=0;l<20;l++){let c=E(r,t,n),{result:u,result_func:f}=O(r,c),{schedule:h,executionTimeGreedy:A}=K(c),y=G(c,h);console.log(`Problem size: ${r}, Run: ${l+1}`),console.log(`  Initial solution from greedy algorithm - Target function (TF): ${y}`),console.log(`  Initial solution from ant algorithm - Target function (TF): ${f}`);let{bestTime:T}=Z(c,u),{bestTime:C}=Z(c,h);console.log(`  Pairwise permutations with initial solution from ant algorithm - TF: ${T}`),console.log(`  Pairwise permutations with initial solution from greedy algorithm - TF: ${C}`);let B=U(T,f),F=U(C,y);console.log(`  TF deviation for pairwise permutation method relative to TF obtained by ant algorithm: ${B}`),console.log(`  TF deviation for pairwise permutation method relative to TF obtained by greedy algorithm: ${F}`),a.push(B),s.push(F)}i.push(X(a)),o.push(X(s))}return{labels:e,averageDeviationsFromAnt:i,averageDeviationsFromGreedy:o}}function U(e,t){return Math.abs(e-t)/Math.min(e,t)}function Ie(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Deviation from TF of ant algorithm",data:e.averageDeviationsFromAnt,backgroundColor:"rgba(96, 130, 182, 0.7)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Deviation from TF of greedy algorithm",data:e.averageDeviationsFromGreedy,backgroundColor:"rgba(182, 96, 130, 0.7)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1,type:"line",fill:!1,pointStyle:"circle",pointRadius:5,yAxisID:"y-axis-2"}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average TF deviation for pairwise permutation method relative to TF of ant and greedy algorithms"},tooltip:{callbacks:{label:function(i){return`Average deviation: ${i.raw}`}}},datalabels:{display:!0,align:"top",formatter:(i,o)=>i.toFixed(2)}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average deviation"},ticks:{min:0,max:1}},"y-axis-2":{beginAtZero:!0,title:{display:!0,text:"Deviation from TF of greedy algorithm"},position:"right",grid:{drawOnChartArea:!1},ticks:{min:0,max:1}}}}})}function X(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}const Be=[4,6,8,10,12,14,16,18,20],Ce=100,Me=10,Pe=$e(Be,Ce,Me);De(Pe,"timeTest");function $e(e,t,n){let i=[],o=[],r=[],a=[];for(let s=0;s<e.length;s++){let l=[],c=[],u=[],f=[];for(let h=0;h<20;h++){const A=R(e[s],t,n),y=E(e[s],t,n),T=.1,C=K(y),B=C.executionTimeGreedy+T,M=O(e[s],y).executionTime+T,$=q(y,A).executionTimeBnB+T,N=Z(y,C.schedule).executionTimePairwise+T;l.push(B),c.push(M),u.push($),f.push(N)}i.push(j(l)),o.push(j(c)),r.push(j(u)),a.push(j(f))}return{labels:e,averageTimesGreedy:i,averageTimesAnt:o,averageTimesBnB:r,averageTimesPP:a}}function De(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Execution Time: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function j(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}const Ne=[4,6,8,10,12,14,16,18,20],ke=100,Ge=10;document.addEventListener("DOMContentLoaded",()=>{const e=Ee(Ne,ke,Ge);Re(e,"accuracyTest");let{averageDeviationsGreedy:t,averageDeviationsAnt:n,averageDeviationsPP:i,averageDeviationsBnB:o}=e;console.log("Average deviations of TF for greedy algorithm relative to optimal TF – ",t),console.log("Average deviations of TF for ant algorithm relative to optimal TF – ",n),console.log("Average deviations of TF for pairwise permutation algorithm relative to optimal TF – ",i),console.log("Average deviations of TF for bnb algorithm relative to optimal TF – ",o)});function Ee(e,t,n){let i=[],o=[],r=[],a=[];for(let s of e){let l=[],c=[],u=[],f=[];for(let h=0;h<20;h++){let A=E(s,t,n),{schedule:y}=K(A),T=G(A,y),{result:C,result_func:B}=O(s,A),{totalWorkTimeBnB:F,scheduleBnB:M,executionTimeBnB:D}=q(A,R(s));if(console.log("BnB Results:",{optimalTF:F,scheduleBnB:M,executionTimeBnB:D}),typeof F>"u"){console.error("optimalTF is undefined in calcResultsBnB",{scheduleBnB:M,executionTimeBnB:D});continue}let{bestTime:$}=Z(A,y);if(isNaN(T)||isNaN(B)||isNaN(F)||isNaN($)){console.error("NaN encountered:",{greedyTF:T,antTF:B,optimalTF:F,ppTF:$});continue}let W=z(T,F),N=z(B,F),H=z($,F),_=0;l.push(W),c.push(N),u.push(H),f.push(_)}i.push(S(l)),o.push(S(c)),r.push(S(u)),a.push(S(f))}return{labels:e,averageDeviationsGreedy:i,averageDeviationsAnt:o,averageDeviationsPP:r,averageDeviationsBnB:a}}function z(e,t){return Math.abs(e-t)/t}function Re(e,t){const n=document.getElementById(t).getContext("2d");new Chart(n,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageDeviationsGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageDeviationsAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageDeviationsPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1},{label:"BnB",data:e.averageDeviationsBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average TF Deviation vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Deviation: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!0,title:{display:!0,text:"Average Deviation"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function S(e){if(e.length===0)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}
//# sourceMappingURL=commonHelpers.js.map
