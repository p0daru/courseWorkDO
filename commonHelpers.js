(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const H={generateMatrix:function(e,t,o){W(e,t,o,!0);const i=t-o,n=t+o,r=Array.from({length:e},()=>Array.from({length:e},()=>1/0));for(let s=0;s<e;s+=1)for(let a=0;a<e;a+=1)s%2!==a%2&&(r[s][a]=Math.floor(Math.random()*(n-i+1))+i);return r},generateLessonDuration:function(e){return W(e),Array.from({length:e},()=>Math.floor(Math.random()*(120-45+1))+45)},getDefaultInputValues:function(){return{matrix:[[1/0,15,1/0,20,1/0,5,1/0,10],[5,1/0,15,1/0,5,1/0,10,1/0],[1/0,20,1/0,15,1/0,5,1/0,5],[10,1/0,20,1/0,5,1/0,10,1/0],[1/0,15,1/0,15,1/0,5,1/0,5],[10,1/0,15,1/0,10,1/0,10,1/0],[1/0,20,1/0,20,1/0,10,1/0,5],[5,1/0,15,1/0,5,1/0,5,1/0]],trainingDuration:[40,120,90,90,60,50,60,40]}}};function W(e,t,o,i=!1){if(!Number.isInteger(e)||e<=0||e%2!==0)throw new Error("Неправильні вхідні дані! Очікується ціле додатнє парне число для numOfStudents.");if(i&&(t<0||o<0))throw new Error("Неправильні вхідні дані! Очікуються не від’ємні значення для tau і deltaTau.")}const G=H.generateMatrix,E=H.generateLessonDuration;function ie(e,t){let o="";if(e==="g"&&t[0]%2===0||e==="b"&&t[0]%2===1)for(let i=0;i<t.length;i++){const n=i===t.length-1,r=t[i],s=i%2===0;n?o+=s?`g${r+1}`:`b${r+1}`:o+=s?`g${r+1} -> `:`b${r+1} -> `}else if(e==="g"&&t[0]%2===1||e==="b"&&t[0]%2===0)for(let i=0;i<t.length;i++){const n=i===t.length-1,r=t[i],s=i%2===0;n?o+=s?`b${r+1}`:`g${r+1}`:o+=s?`b${r+1} -> `:`g${r+1} -> `}return o}function j(e,t,o=E(e),i=1){const n=performance.now();let r=1,s=.7,a=.1,l=[],u=10,c=[],m,b="",C="g",T=t.slice().map(d=>d.slice());function w(d){return d.map(f=>Math.min(...f))}w(T);function F(d,f){const I=w(d);return f+=I.reduce((y,v)=>y+v,0),{matrix:d.map((y,v)=>y.map((A,g)=>A-I[v])),minBorder:f}}let{matrix:$,minBorder:P}=F(T,0);function B(d){const f=[];return Object.keys(d[0]).forEach(x=>{const y=d.map(v=>v[x]);f[x]=Math.min(...y)}),f}B(T);function ee(d,f){const I=B(d);return f+=Object.values(I).reduce((y,v)=>y+v,0),{matrix:d.map((y,v)=>y.map((A,g)=>A-I[g])),minBorder:f}}let{matrix:Ne,minBorder:te}=ee(T,0),ne=te+P;for(let d=0;d<e;++d){l[d]=[];for(let f=0;f<e;++f)t[d][f]!=1/0?l[d][f]=s:l[d][f]=1/0}for(let d=1;d<=u;d++){let f=Math.floor(Math.random()*e),I=t.slice().map(g=>g.slice()),x=[],y=0,v=Array.from({length:e},()=>Array(e).fill(0));for(x.push(f);x.length<e;){for(let h=0;h<e;h++)I[h][f]=1/0;let g=0,p=new Map;for(let h=0;h<e;h++)I[f][h]!=1/0&&(g+=parseFloat(l[f][h]**i)*(1/t[f][h])**r);for(let h=0;h<e;h++){let M=0;if(I[f][h]!=1/0)if(M=parseFloat(l[f][h]**i*(1/t[f][h])**r/g).toFixed(4),p.size===0)p.set(h,parseFloat(M));else{let oe=Array.from(p.values()).pop();M=parseFloat(parseFloat(M)+parseFloat(oe)).toFixed(4),p.set(h,parseFloat(M))}}let N=parseFloat(Math.random()).toFixed(4);for(let[h,M]of p.entries())if(parseFloat(N)<=parseFloat(M)){f=h,x.push(f);break}}for(let g=0;g<x.length-1;g++){const p=x[g],N=x[g+1];y+=parseFloat(t[p][N])+o[g],v[p][N]=1}let A=ne/y;for(let g=0;g<e;g++)for(let p=0;p<e;p++)t[g][p]!=1/0&&(v[g][p]===1?l[g][p]=parseFloat((1-a)*l[g][p]+A).toFixed(4):l[g][p]=parseFloat((1-a)*l[g][p]).toFixed(4));(d===1||m>y)&&(c=x,m=y)}const R=performance.now()-n;return console.log("Розклад: "),b=ie(C,c),console.log(b),console.log("Значення ЦФ: ",m),console.log("ExecutionTime: ",R),{shedule:b,result:c,result_func:m,executionTime:R}}const re=8,le=100,se=50,L=[1,2,3,4,5];function ae(e,t,o,i){let n=[],r=10;for(let s=0;s<i.length;s+=1){let a=0;for(let u=0;u<r;u++){let c=G(e,t,o),m=E(e);console.table(c);let b=j(e,c,m,i[s]);a+=b.result_func}let l=a/r;n.push(l),console.log(n)}return n}let ce=ae(re,le,se,L);function ue(e,t,o){const i=document.getElementById(o).getContext("2d");new Chart(i,{type:"bar",data:{labels:L,datasets:[{label:"ЦФ vs a",data:t,backgroundColor:"rgb(255, 182, 193, 0.5)",borderColor:"rgba(255, 105, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від a"},tooltip:{callbacks:{label:function(n){return`Цільова функція: ${n.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу a"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}ue(L,ce,"antTest");function Z(e,t){let o=0,i=0;e.forEach((s,a)=>{let l=Math.min.apply(null,s);(isNaN(l)||!isFinite(l))&&(l=0),o+=l;let u=s.map(c=>c-=l);e[a]=u}),e=e[0].map((s,a)=>e.map(l=>l[a])),e.forEach((s,a)=>{let l=Math.min.apply(null,s);(isNaN(l)||!isFinite(l))&&(l=0),i+=l;let u=s.map(c=>c-=l);e[a]=u}),e=e[0].map((s,a)=>e.map(l=>l[a]));let n=o+i;return{index:t,matrix:e,cost:n}}function fe(e,t,o){const i=e.map(n=>n.slice());for(let n=0;n<e.length;n+=1)i[t][n]=1/0,i[n][o]=1/0,i[o][t]=1/0,i[o][0]=1/0;return i}function de(e){for(let a=0;a<e.length;a+=1)for(let l=0;l<e.length;l+=1)a==l&&(e[a][l]=1/0);const t=[],o=Z(e,0);t.push({Node:o.index+1,cost:o.cost});let i=o.index,n=o.matrix.map(a=>a.slice()),r=o.cost;for(let a=0;a<e.length-1;a++){let l=[];for(let c=1;c<e.length;c++){const m=fe(n,i,c),b=Z(m,c);b.cost=b.cost+r+n[i][c],l.push(b)}let u=l.reduce(function(c,m){return c.cost<m.cost?c:m});t.push({Node:u.index+1,cost:u.cost}),i=u.index,n=u.matrix.map(c=>c.slice()),r=u.cost}const s=t[t.length-1].cost;return{minCostArray:t,lastCost:s}}function ge(e){let t="";for(let o=0;o<e.length;o++){const i=o===e.length-1,n=e[o].Node,r=o%2===0;i?t+=r?`g${n}`:`b${n}`:t+=r?`g${n} -> `:`b${n} -> `}return t}function me(e){return e.reduce((t,o)=>t+o,0)}function he(e,t){return e+t}function J(e,t){const o=performance.now();let{minCostArray:i,lastCost:n}=de(e),r=ge(i),s=me(t),a=he(s,n);const u=performance.now()-o;return{totalWorkTimeBnB:a,scheduleBnB:r,executionTimeBnB:u}}const pe=8,be=100,Q=[10,50];function ye(e,t,o){let i=[];const n=E(e);for(let r=0;r<o.length;r+=1){const s=G(e,t,o[r]);let a=J(s,n);i.push(a.totalWorkTimeBnB)}return i}let U=ye(pe,be,Q);console.log(U);function xe(e,t,o){const i=document.getElementById(o).getContext("2d");new Chart(i,{type:"bar",data:{labels:e,datasets:[{label:"ЦФ vs ∆τ",data:t,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:0}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Графік залежності ЦФ від ∆τ"},tooltip:{callbacks:{label:function(n){return`Цільова функція: ${n.raw}`}}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Значення напівінтервалу ∆τ"}},y:{beginAtZero:!0,title:{display:!0,text:"Цільова Функція"}}}}})}xe(Q,U,"bnbTest");function Te(e,t,o){let i=[];for(let n=0;n<e;n+=1){i[n]=[];for(let r=0;r<e;r+=1){if(n%2===r%2){i[n][r]=1/0;continue}let s=t-o,a=t+o;i[n][r]=Math.floor(Math.random()*(a-s+1))+s}}return i}function X(e,t,o){let i=-1,n=1/0;for(let r=0;r<e.length;r++)!o.has(r)&&e[t][r]<n&&(n=e[t][r],i=r);return i}function ve(e){let t=e.length,o=new Set,i=[],n=Math.floor(Math.random()*t);for(i.push(n),o.add(n);i.length<t;){let r=X(e,n,o);if(r===-1)break;i.push(r),o.add(r),n=r}return i}function Y(e){const t=performance.now();let o=e.length,i=new Set,n=[],r=Math.floor(Math.random()*o);for(n.push(r),i.add(r);n.length<o;){let l=X(e,r,i);if(l===-1)break;n.push(l),i.add(l),r=l}const a=performance.now()-t;return{schedule:n,executionTimeGreedy:a}}function _(e,t){let o=0;for(let i=0;i<t.length-1;i++)o+=e[t[i]][t[i+1]];return o}function we(e,t){let o=e.slice(),i=Math.random()<.5?0:1,n=[];for(let l=0;l<t;l++)l%2===i&&n.push(l);let r=n[Math.floor(Math.random()*n.length)],s=n[Math.floor(Math.random()*n.length)];for(;r===s;)s=n[Math.floor(Math.random()*n.length)];let a=o[r];return o[r]=o[s],o[s]=a,o}function D(e,t=ve(e),o=1e3){const i=performance.now();let n=t,r=n,s=_(e,n),a=0;for(;a<o;){let c=we(n,n.length),m=_(e,c);m<s&&(s=m,r=c),n=c,a++}const u=performance.now()-i;return{bestSchedule:r,bestTime:s,executionTimePairwise:u}}const S=[4,6,8,10,12,14,16,18,20],V=100,z=10;document.addEventListener("DOMContentLoaded",()=>{const e=O(S,V,z);Ie(e,"deviationTest");let{averageDeviationsFromAnt:t,averageDeviationsFromGreedy:o}=O(S,V,z);console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму – ",t),console.log("Середні відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму – ",o)});function O(e,t,o){let i=[],n=[];for(let r of e){let s=[],a=[];for(let l=0;l<20;l++){let u=Te(r,t,o),{result:c,result_func:m}=j(r,u),{schedule:b}=Y(u),C=_(u,b);console.log(`Розмірність задачі: ${r}, Запуск: ${l+1}`),console.log(`  Початковий розв’язок з жадібного алгоритму - Цільова функція (ЦФ): ${C}`),console.log(`  Початковий розв’язок з мурашиного алгоритму - Цільова функція (ЦФ): ${m}`);let{bestTime:T}=D(u,c),{bestTime:w}=D(u,b);console.log(`  Попарні перестановки з початковим розв’язком з мурашиного алгоритму - ЦФ: ${T}`),console.log(`  Попарні перестановки з початковим розв’язком з жадібного алгоритму - ЦФ: ${w}`);let F=q(T,m),$=q(w,C);console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою мурашиного алгоритму: ${F}`),console.log(`  Відхилення ЦФ для методу попарних перестановок відносно ЦФ отриманої за допомогою жадібного алгоритму: ${$}`),s.push(F),a.push($)}i.push(K(s)),n.push(K(a))}return{labels:e,averageDeviationsFromAnt:i,averageDeviationsFromGreedy:n}}function q(e,t){return Math.abs(e-t)/Math.min(e,t)}function Ie(e,t){const o=document.getElementById(t).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Відхилення від ЦФ мурашиного алгоритму",data:e.averageDeviationsFromAnt,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Відхилення від ЦФ жадібного алгоритму",data:e.averageDeviationsFromGreedy,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Середнє відхилення ЦФ для методу попарних перестановок відносно ЦФ мурашиного та жадібного алгоритмів"},tooltip:{callbacks:{label:function(i){return`Середнє відхилення: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Кількість студентів (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Середнє відхилення"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function K(e){if(e.length===0)return 0;let t=0;for(let o=0;o<e.length;o++)t+=e[o];return t/e.length}const Me=[4,6,8,10,12,14,16,18,20],Ce=100,Fe=10,$e=Ae(Me,Ce,Fe);Be($e,"timeTest");function Ae(e,t,o){let i=[],n=[],r=[],s=[];for(let a=0;a<e.length;a+=1){let l=[],u=[],c=[],m=[];for(let b=0;b<20;b+=1){const C=E(e[a],t,o),T=G(e[a],t,o),w=.1,F=Y(T).executionTimeGreedy+w,$=j(e[a],T).executionTime+w,P=J(T,C).executionTimeBnB+w,B=D(T).executionTimePairwise+w;l.push(F),c.push(P),m.push(B),u.push($)}i.push(k(l)),r.push(k(c)),s.push(k(m)),n.push(k(u))}return{labels:e,averageTimesGreedy:i,averageTimesAnt:n,averageTimesBnB:r,averageTimesPP:s}}function Be(e,t){const o=document.getElementById(t).getContext("2d");new Chart(o,{type:"bar",data:{labels:e.labels,datasets:[{label:"Greedy",data:e.averageTimesGreedy,backgroundColor:"rgb(96, 130, 182)",borderColor:"rgba(70, 130, 180, 1)",borderWidth:1},{label:"Ant",data:e.averageTimesAnt,backgroundColor:"rgb(182, 96, 130)",borderColor:"rgba(180, 70, 130, 1)",borderWidth:1},{label:"BnB",data:e.averageTimesBnB,backgroundColor:"rgb(96, 182, 130)",borderColor:"rgba(70, 180, 130, 1)",borderWidth:1},{label:"Pairwise",data:e.averageTimesPP,backgroundColor:"rgb(130, 96, 182)",borderColor:"rgba(130, 70, 180, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Average Execution Time vs Number of Students"},tooltip:{callbacks:{label:function(i){return`Average Execution Time: ${i.raw}`}}}},scales:{x:{beginAtZero:!1,title:{display:!0,text:"Number of Students (n)"}},y:{beginAtZero:!1,title:{display:!0,text:"Average Execution Time (ms)"}}},layout:{backgroundColor:"rgba(211, 211, 211, 1)"}}})}function k(e){if(e.length===0)return 0;let t=0;for(let o=0;o<e.length;o++)t+=e[o];return t/e.length}
//# sourceMappingURL=commonHelpers.js.map
